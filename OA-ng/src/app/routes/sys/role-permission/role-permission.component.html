<page-header title="角色权限">
  为角色分配相应菜单和权限资源。
  <!--   <div style="float: right;"><label>您所拥有的权限&nbsp;:&nbsp;</label>
    <nz-tag nzColor="purple"
            acl
            [acl-ability]="'DepartmentAudit'">
      部门初审</nz-tag>
    <nz-tag nzColor="purple"
            acl
            [acl-ability]="'CompanyReview'">
      公司复核</nz-tag>
  </div> -->
</page-header>
<nz-card nzBordered class="mb-lg" [nzExtra]="action" nzTitle="资源列表">
  <nz-table #roleTable [nzData]="RoleList" [nzLoading]="isLoading" nzBordered>
    <thead>
      <tr>
        <th nzAlign="center">角色名</th>
        <th nzAlign="center">角色编号</th>
        <th nzAlign="center">备注</th>
        <th nzAlign="center">操作</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of roleTable.data">
        <td nzAlign="center">{{ item.name }}</td>
        <td nzAlign="center">{{ item.code }}</td>
        <td nzAlign="center">{{ item.remark }}</td>
        <td nzAlign="center">
          <button nz-button nzType="primary" (click)="setPermissionOrMenu('func', item)">
            <i nz-icon nzType="edit" nzTheme="outline"></i>设置权限
          </button>
          <button nz-button class="margin-left-10" nzType="primary" (click)="setPermissionOrMenu('menu', item)">
            <i nz-icon nzType="edit" nzTheme="outline"></i>设置菜单
          </button>
        </td>
      </tr>
    </tbody>
  </nz-table>
</nz-card>
<ng-template #tree>
  <nz-spin [nzTip]="'请稍候...'" [nzSpinning]="isTreeLoading">
    <nz-tree #myTree [nzData]="nodes" nzCheckable nzMultiple [nzCheckedKeys]="defaultCheckedKeys" nzExpandAll="true">
    </nz-tree>
    <nz-divider> </nz-divider>
    <nz-row>
      <nz-col>
        <button nz-button nzType="primary" (click)="save()" style="float: right;margin-left: 10px;">保存</button>
        <button nz-button nzType="primary" (click)="modalService.closeAll()" style="float: right;">取消</button>
      </nz-col>
    </nz-row>
  </nz-spin>
</ng-template>
<ng-template #action>
  <!--   <button nz-button nzType="primary" (click)="addRole()">
    新增角色<i nz-icon nzType="plus" nzTheme="outline"></i>
  </button>
  <button nz-button nzType="primary" (click)="setUserRole()">
    设置用户角色<i nz-icon nzType="edit" nzTheme="outline"></i>
  </button> -->
</ng-template>
