<page-header title="请假编号 : {{ leave.orderNo }}"
             [logo]="logo"
             [action]="action"
             [extra]="extra"
             [tab]="tab">
  <!--   <ng-template #logo>
    <img src="https://gw.alipayobjects.com/zos/rmsportal/nxkuOJlFJuAUhzlMTCEe.png" />
  </ng-template> -->
  <ng-template #action>

    <button nz-button
            [nzType]="'primary'"
            (click)="getLeaveList()">刷新</button>
    <button nz-button
            class="margin-left-10"
            [nzType]="'primary'">撤销申请</button>
  </ng-template>
  <ng-template #extra>
    <div nz-row>
      <div nz-col
           nzXs="24"
           nzSm="12">
        <p class="text-grey"
           style="margin-right: 17px;">状态</p>
        <p class="text-lg">
          <nz-tag style="height: 30px;
          font-size: 14px;
          line-height: 30px;
          margin-right: 0px;"
                  [nzColor]="leave.status == 9 ? 'red' : leave.status == 3 ? 'green' : '#108ee9'">
            {{ leave.status == 9 ? '已拒绝' : leave.status == 3 ? '已通过' : '待审批' }}</nz-tag>
        </p>
      </div>
      <!--  <div nz-col nzXs="24" nzSm="12">
        <p class="text-grey">订单金额</p>
        <p class="text-lg">¥ 568.08</p>
      </div> -->
    </div>
  </ng-template>
  <ng-template #tab>
    <nz-tabset>
      <nz-tab nzTitle="详情"></nz-tab>
      <nz-tab nzTitle="规则"></nz-tab>
    </nz-tabset>
  </ng-template>
  <sv-container size="small"
                col="2">
    <sv label="创建人">{{ leave.userName }}</sv>
    <sv label="标题">{{ leave.title }}</sv>
    <sv label="创建时间">{{ leave.createTime | date: 'yyyy-MM-dd' }}</sv>
    <sv label="请假类型">
      {{ leave.leaveTypeName }}
      <!-- <a (click)="msg.success('yes')">12421</a> -->
    </sv>
    <sv label="请假时间">{{ leave.beginTime | date: 'yyyy-MM-dd' }} ~ {{ leave.endTime | date: 'yyyy-MM-dd' }}</sv>
    <sv label="详情">{{ leave.reason }}</sv>
  </sv-container>
  <!--   <sv-container col="1">
   
  </sv-container> -->
</page-header>
<nz-card [nzBordered]="false"
         class="mb-lg"
         nzTitle="流程进度">
  <nz-steps [nzCurrent]="leave.leaveProcess.length">
    <nz-step [nzTitle]="item.title"
             [nzIcon]="item.icon"
             [nzDescription]="createDesc"
             *ngFor="let item of steps">
      <ng-template #createDesc>
        <!--         <ng-container *ngIf="item.status != 0"> -->
        <div class="desc">
          <div class="my-sm">
            <span *ngIf="item.status != 'process' && item.isMain">审核人&nbsp;:&nbsp;</span> {{item.userName}}
            <!--   <i nz-icon
               nzType="dingding"
               class="ml-sm"></i> -->
          </div>
          <div> {{item.time | date:'yyyy-MM-dd HH:mm:ss'}}</div>
        </div>
        <!--      </ng-container> -->
      </ng-template>
    </nz-step>
  </nz-steps>
  <!--   <nz-steps [nzCurrent]="1">
    <nz-step [nzTitle]="'提交假单'"
             [nzDescription]="createDesc"
             [nzIcon]="'check-circle'">
      <ng-template #createDesc>
        <div class="
             desc">
          <div class="my-sm">
            {{leave.userName}}
            <i nz-icon
               nzType="dingding"
               class="ml-sm"></i>
          </div>
          <div> {{leave.createTime | date:'yyyy-MM-dd'}}</div>
        </div>
      </ng-template>
    </nz-step>
    <nz-step [nzTitle]="'部门初审'"
             [nzDescription]="checkedDesc"
             [nzIcon]="'loading'">
      <ng-template #checkedDesc>
        <div class="desc">
          <div class="my-sm">
            冯晓旭
            <i nz-icon
               nzType="dingding"
               class="ml-sm"
               style="color: #00a0e9;"></i>
          </div>
          <a (click)="msg.success('click')">催一下</a>
        </div>
      </ng-template>
    </nz-step>
    <nz-step [nzTitle]="'公司复核'"></nz-step>
    <nz-step [nzTitle]="'完成'"></nz-step>
  </nz-steps> -->
  <div class="steps-content"></div>
</nz-card>
<nz-card [nzBordered]="false"
         nzTitle="用户信息"
         class="mb-lg">
  <sv-container class="mb-lg">
    <sv label="用户姓名">付小小</sv>
    <sv label="会员卡号">32943898021309809423</sv>
    <sv label="身份证">3321944288191034921</sv>
    <sv label="联系方式">18112345678</sv>
    <sv label="联系地址">曲丽丽 18100000000 浙江省杭州市西湖区黄姑山路工专路交叉路口</sv>
  </sv-container>
  <sv-container class="mb-lg"
                title="信息组">
    <sv label="某某数据">725</sv>
    <sv label="该数据更新时间">2017-08-08</sv>
    <sv>&nbsp;</sv>
    <sv [label]="label">
      <ng-template #label>
        某某数据
        <i nz-tooltip
           nzTooltipTitle="数据说明"
           nz-icon
           nzType="info-circle"></i>
      </ng-template>
      725
    </sv>
    <sv label="该数据更新时间">2017-08-08</sv>
  </sv-container>
  <h4 class="mb-md">信息组</h4>
  <nz-card nzType="inner"
           nzTitle="多层级信息组">
    <sv-container size="small"
                  title="组名称">
      <sv label="负责人">林东东</sv>
      <sv label="角色码">1234567</sv>
      <sv label="所属部门">XX公司 - YY部</sv>
      <sv label="过期时间">2017-08-08</sv>
      <sv label="描述">这段描述很长很长很长很长很长很长很长很长很长很长很长很长很长很长...</sv>
    </sv-container>
    <nz-divider></nz-divider>
    <sv-container size="small"
                  title="组名称"
                  col="1">
      <sv label="学名">
        Citrullus lanatus (Thunb.) Matsum. et Nakai一年生蔓生藤本；茎、枝粗壮，具明显的棱。卷须较粗..
      </sv>
    </sv-container>
    <nz-divider></nz-divider>
    <sv-container size="small"
                  title="组名称">
      <sv label="负责人">付小小</sv>
      <sv label="角色码">1234568</sv>
    </sv-container>
  </nz-card>
</nz-card>
<nz-card [nzBordered]="false"
         nzTitle="用户近半年来电记录"
         class="mb-lg">
  <div class="no-data"><i nz-icon
       nzType="frown"></i>暂无数据</div>
</nz-card>
<nz-card [nzBordered]="false">
  <nz-card-tab>
    <nz-tabset nzSize="large"
               (nzSelectChange)="change($event)">
      <nz-tab nzTitle="操作日志一"></nz-tab>
      <nz-tab nzTitle="操作日志二"></nz-tab>
      <nz-tab nzTitle="操作日志三"></nz-tab>
    </nz-tabset>
  </nz-card-tab>
  <st [columns]="opColumns"
      [data]="list">
    <ng-template st-row="status"
                 let-i>
      <nz-badge *ngIf="i.status === 'success'"
                [nzStatus]="'success'"
                [nzText]="'成功'"></nz-badge>
      <nz-badge *ngIf="i.status !== 'success'"
                [nzStatus]="'processing'"
                [nzText]="'进行中'"></nz-badge>
    </ng-template>
  </st>
</nz-card>